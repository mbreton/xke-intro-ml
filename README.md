#XKE - Machine Learning first class

## Quick start

 1. Prerequisites
    * NodeJS installed
    * Bower installed (in global)
    * Grunt installed (in global)

 * First install all dependencies (back & front) by executing <pre>npm install</pre>
 * And just run <pre>npm start</pre>

## Solution
[kmeans](http://localhost:3000/#src=var%20X%3D0%2C%20Y%3D1%3B%0A%0Afunction%20kmeans(points%2C%20numClusters)%20%7B%0A%20%20%20%20var%20_centroids%20%3D%20pickStartingCentroids(numClusters%2C%20points)%3B%0A%0A%20%20%20%20var%20maxIter%20%3D%201000%3B%0A%0A%20%20%20%20while%20(maxIter--)%20%7B%0A%20%20%20%20%20%20%20%20var%20partitioned%20%3D%20partitionUsingTheDistance(_centroids%2C%20points)%3B%0A%20%20%20%20%20%20%20%20_centroids%20%3D%20updateCentroids(partitioned)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20centroids%3A%20_centroids%2C%0A%20%20%20%20%20%20%20%20partition%3A%20partitionUsingTheDistance(_centroids%2C%20points)%0A%20%20%20%20%7D%3B%0A%7D%0Afunction%20pickStartingCentroids(n%2C%20points)%20%7B%20%20%20%20%0A%20%20%20%20return%20_(points)%0A%20%20%20%20%20%20%20%20.shuffle()%0A%20%20%20%20%20%20%20%20.first(n)%0A%20%20%20%20%20%20%20%20.valueOf()%3B%20%0A%7D%0A%0Afunction%20partitionUsingTheDistance%20(centroids%2C%20points)%20%7B%0A%20%20%20%20var%20partition%20%3D%20%7B%7D%3B%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20centroids.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20partition%5Bi%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20points.forEach(function%20(point)%20%7B%0A%20%20%20%20%20%20%20%20var%20closestCentroid%20%3D%20findClosestCentroid(centroids%2C%20point)%3B%0A%20%20%20%20%20%20%20%20partition%5BclosestCentroid%5D.push(point.slice(0))%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20partition%3B%20%0A%7D%0A%0Afunction%20findClosestCentroid(centroids%2C%20p)%20%7B%0A%20%20%20%20if%20(!centroids)%20%7B%0A%20%20%20%20%20%20%20%20return%20undefined%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20closest%20%3D%200%2C%0A%20%20%20%20%20%20%20%20d%20%3D%20distance(centroids%5Bclosest%5D%2C%20p)%3B%0A%0A%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20centroids.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20var%20dist2centroid%20%3D%20distance(centroids%5Bi%5D%2C%20p)%3B%0A%20%20%20%20%20%20%20%20if%20(dist2centroid%20%3C%20d)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20closest%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20dist2centroid%3B%20%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20closest%3B%0A%7D%0A%0Afunction%20updateCentroids(partitioned)%20%7B%0A%20%20%20%20var%20res%20%3D%20_.map(partitioned%2C%20determineNewCentroid)%3B%0A%20%20%20%20return%20res%3B%0A%7D%0A%0Afunction%20determineNewCentroid(points)%20%7B%0A%20%20%20%20var%20p%20%3D%20points%5B0%5D%3B%0A%0A%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20points.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20p%5BX%5D%20%2B%3D%20points%5Bi%5D%5BX%5D%3B%0A%20%20%20%20%20%20%20%20p%5BY%5D%20%2B%3D%20points%5Bi%5D%5BY%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20p%5BX%5D%20%2F%20points.length%2C%0A%20%20%20%20%20%20%20%20p%5BY%5D%20%2F%20points.length%0A%20%20%20%20%5D%3B%0A%7D%0A%0Afunction%20distance(p%2C%20v)%20%7B%0A%20%20%20%20var%20deltaX2%20%3D%20Math.pow((p%5BX%5D%20-%20v%5BX%5D)%2C%202)%2C%0A%20%20%20%20%20%20%20%20deltaY2%20%3D%20Math.pow((p%5BY%5D%20-%20v%5BY%5D)%2C%202)%3B%0A%20%20%20%20return%20Math.sqrt(deltaX2%20%2B%20deltaY2)%3B%0A%7D%0A%0Afunction%20randInt(a%2C%20b)%20%7B%0A%20%20%20%20return%20Math.floor(randFloat(a%2C%20b))%3B%0A%7D)
[naive Bayes](http://localhost:3000/#src=function%20SpamClassifier%28unknownWordProbability%29%20{%0A%20%20%20%20this._unknownWordProbability%20%3D%20unknownWordProbability%20||%200.0001%3B%0A}%0A%0ASpamClassifier.prototype%20%3D%20{%0A%09train%20%3A%20function%28trainingSet%29%20{%0A%09%09this.numTrainingMsg%20%3D%20countKeys%28trainingSet%29%3B%0A%09%09this.num%20%3D%20{}%3B%0A%09%09this.num[%27ham%27]%20%3D%20trainingSet.filter%28function%28v%29%20{%0A%09%09%09return%20v.type%20%3D%3D%20%27ham%27%3B%0A%09%09}%29.length%3B%0A%09%09this.num[%27spam%27]%20%3D%20this.numTrainingMsg%20-%20this.num[%27ham%27]%3B%0A%0A%09%09this.frequencies%20%3D%20trainingSet.reduce%28function%28acc%2C%20item%29%20{%0A%09%09%09for%20%28var%20word%20in%20item.content%29%20{%0A%09%09%09%09if%20%28acc[item.type][word]%29%20{%0A%09%09%09%09%09acc[item.type][word]%20%2B%3D%201%3B%0A%09%09%09%09}%20else%20{%0A%09%09%09%09%09acc[item.type][word]%20%3D%201%3B%0A%09%09%09%09}%0A%09%09%09}%0A%09%09%09return%20acc%3B%0A%09%09}%2C%20{ham%20%3A%20{}%2C%20spam%20%3A%20{}}%29%3B%0A%09}%2C%0A%09pWord%20%3A%20function%28word%2C%20msgType%29%20{%0A%09%09if%20%28!this.frequencies[msgType][word]%29%20{%0A%09%09%09return%20this._unknownWordProbability%3B%0A%09%09}%0A%0A%09%09return%20this.frequencies[msgType][word]%20%2F%20this.num[msgType]%3B%0A%09}%2C%0A%09pType%20%3A%20function%28type%29%20{%0A%09%09return%20this.num[type]%20%2F%20this.numTrainingMsg%3B%0A%09}%2C%0A%09p%20%3A%20function%28msg%2C%20type%29%20{%0A%09%09var%20bagOfWords%20%3D%20fromTextToBagOfWords%28removePunctuationFromText%28msg%29%29%2C%0A%09%09%09proba%20%3D%201%3B%0A%09%09%0A%09%09for%20%28var%20word%20in%20bagOfWords%29%20{%0A%09%09%09proba%20%3D%20this.pWord%28word%2C%20type%29%20*%20proba%3B%0A%09%09}%0A%0A%09%09return%20proba%20*%20this.pType%28type%29%3B%0A%09}%2C%0A%09isSpam%20%3A%20function%28msg%29%20{%0A%09%09return%20%28this.p%28msg%2C%20%27spam%27%29%20%2F%20this.p%28msg%2C%20%27ham%27%29%29%20%3E%201%3B%0A%09}%0A}%3B)

## Datasets
[SMS spam collection](http://www.dt.fee.unicamp.br/~tiago/smsspamcollection/)
